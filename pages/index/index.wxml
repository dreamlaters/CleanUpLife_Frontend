<!-- é¦–é¡µ - ç°ä»£åŒ–è®¾è®¡ -->
<view class="container">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <view class="page-header">
    <text class="page-title">CleanUpLife</text>
    <text class="page-subtitle">æ•´ç†ç”Ÿæ´»ï¼Œä»è¿™é‡Œå¼€å§‹ âœ¨</text>
  </view>

  <!-- æ•°æ®ç»Ÿè®¡å¡ç‰‡ -->
  <view class="stats-container">
    <view class="stat-card stat-card-primary">
      <view class="stat-icon stat-icon-primary">ğŸ“¦</view>
      <text class="stat-value">{{products.length}}</text>
      <text class="stat-label">ç‰©å“æ€»æ•°</text>
    </view>
    <view class="stat-card stat-card-warning">
      <view class="stat-icon stat-icon-warning">â°</view>
      <text class="stat-value">{{expiringSoonCount}}</text>
      <text class="stat-label">å³å°†è¿‡æœŸ</text>
    </view>
    <view class="stat-card stat-card-danger">
      <view class="stat-icon stat-icon-danger">âš ï¸</view>
      <text class="stat-value">{{expiredCount}}</text>
      <text class="stat-label">å·²è¿‡æœŸ</text>
    </view>
  </view>

  <!-- ç‰©å“ç®¡ç†åŒºåŸŸ -->
  <view class="section-card">
    <view class="section-header">
      <view class="section-title-wrap">
        <view class="section-icon section-icon-products">ğŸ“¦</view>
        <text class="section-title">æˆ‘çš„ç‰©å“</text>
      </view>
      <view class="section-badge" wx:if="{{products.length}}">{{products.length}}ä»¶</view>
    </view>
    
    <!-- ç­›é€‰æ ‡ç­¾ -->
    <scroll-view scroll-x class="filter-scroll" wx:if="{{products.length}}">
      <view class="filter-tabs">
        <view class="filter-tab {{currentFilter === 'all' ? 'filter-tab-active' : ''}}" 
              bindtap="onFilterChange" data-filter="all">å…¨éƒ¨</view>
        <view class="filter-tab {{currentFilter === 'Food' ? 'filter-tab-active' : ''}}" 
              bindtap="onFilterChange" data-filter="Food">ğŸ¥– é£Ÿç‰©</view>
        <view class="filter-tab {{currentFilter === 'CatFood' ? 'filter-tab-active' : ''}}" 
              bindtap="onFilterChange" data-filter="CatFood">ğŸ± çŒ«ç²®</view>
        <view class="filter-tab {{currentFilter === 'Medicine' ? 'filter-tab-active' : ''}}" 
              bindtap="onFilterChange" data-filter="Medicine">ğŸ’Š è¯å“</view>
      </view>
    </scroll-view>

    <!-- ç‰©å“åˆ—è¡¨ - å¡ç‰‡å¼å¸ƒå±€ -->
    <view class="loading-container" wx:if="{{loadingProducts}}">
      <view class="loading-spinner"></view>
      <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>
    <view class="item-list" wx:elif="{{filteredProducts.length}}">
      <view 
        class="item-card-wrapper"
        wx:for="{{filteredProducts}}" 
        wx:key="id"
      >
        <view 
          class="item-card"
          data-id="{{item.id}}"
          data-category="{{item.category}}"
          bindtap="onUpdate"
          bindlongpress="showItemActions"
        >
          <view class="item-emoji">{{item.emoji || 'ğŸ“¦'}}</view>
          <view class="item-content">
            <text class="item-name">{{item.name}}</text>
            <view class="item-info">
              <text class="item-location">ğŸ“ {{item.location.roomPlacement}}</text>
              <text class="item-date-badge {{item.dateClass}}">{{item.bestByFormatted}}</text>
            </view>
          </view>
          <text class="item-arrow">â€º</text>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{!loadingProducts && !products.length}}">
      <text class="empty-icon">ğŸ“­</text>
      <text class="empty-title">è¿˜æ²¡æœ‰æ·»åŠ ç‰©å“</text>
      <text class="empty-text">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œå¼€å§‹è®°å½•ä½ çš„ç‰©å“</text>
      <view class="empty-btn" bindtap="goToTarget">+ æ·»åŠ ç‰©å“</view>
    </view>

    <!-- æ·»åŠ æŒ‰é’® -->
    <view class="add-btn-row" wx:if="{{products.length}}">
      <view class="fab-btn" bindtap="goToTarget">
        <text class="fab-btn-icon">+</text>
      </view>
    </view>
  </view>

  <!-- å‡ºè¡Œç›®çš„åœ°åŒºåŸŸ -->
  <view class="section-card">
    <view class="section-header">
      <view class="section-title-wrap">
        <view class="section-icon section-icon-travel">âœˆï¸</view>
        <text class="section-title">å‡ºè¡Œè®¡åˆ’</text>
      </view>
      <view class="section-badge" wx:if="{{travelList.length}}">{{travelList.length}}ä¸ª</view>
    </view>
    
    <!-- Tabåˆ‡æ¢ -->
    <view class="travel-tabs">
      <view 
        class="travel-tab {{travelTab === 'pending' ? 'travel-tab-active' : ''}}" 
        bindtap="switchTravelTab" 
        data-tab="pending"
      >
        <text class="travel-tab-icon">ğŸ—ºï¸</text>
        <text>æƒ³å»çš„</text>
      </view>
      <view 
        class="travel-tab {{travelTab === 'visited' ? 'travel-tab-active' : ''}}" 
        bindtap="switchTravelTab" 
        data-tab="visited"
      >
        <text class="travel-tab-icon">âœ…</text>
        <text>å»è¿‡çš„</text>
      </view>
    </view>

    <!-- æ–°å¢/ç¼–è¾‘è¡¨å• -->
    <view class="travel-add-form {{showTravelForm ? 'travel-form-show' : ''}}" wx:if="{{showTravelForm}}">
      <view class="travel-form-header">
        <text class="travel-form-title">{{editingTravelId ? 'âœ¨ ç¼–è¾‘ç›®çš„åœ°' : 'âœ¨ æ·»åŠ ç›®çš„åœ°'}}</text>
      </view>
      
      <view class="travel-form-row">
        <text class="travel-form-label">ç›®çš„åœ°ç±»å‹</text>
        <picker mode="selector" range="{{['ğŸ‡¨ğŸ‡³ å›½å†…', 'ğŸŒ å›½å¤–']}}" value="{{travelFormTypeIndex}}" bindchange="onTravelTypeChange">
          <view class="travel-form-picker">{{travelFormTypeIndex === 0 ? 'ğŸ‡¨ğŸ‡³ å›½å†…' : 'ğŸŒ å›½å¤–'}} <text class="picker-arrow">â–¼</text></view>
        </picker>
      </view>
      
      <!-- å›½å†…é€‰æ‹©çœå¸‚ -->
      <view class="travel-form-row" wx:if="{{travelFormTypeIndex === 0}}">
        <text class="travel-form-label">çœå¸‚</text>
        <picker mode="region" level="city" value="{{travelRegion}}" bindchange="onRegionChange">
          <view class="travel-form-picker">{{travelRegionDisplay || 'è¯·é€‰æ‹©çœå¸‚'}} <text class="picker-arrow">â–¼</text></view>
        </picker>
      </view>
      
      <!-- å›½å¤–é€‰æ‹©å›½å®¶ -->
      <view class="travel-form-row" wx:if="{{travelFormTypeIndex === 1}}">
        <text class="travel-form-label">å›½å®¶</text>
        <picker mode="selector" range="{{countryList}}" value="{{travelCountryIndex}}" bindchange="onCountryChange">
          <view class="travel-form-picker">{{countryList[travelCountryIndex] || 'è¯·é€‰æ‹©å›½å®¶'}} <text class="picker-arrow">â–¼</text></view>
        </picker>
      </view>
      
      <view class="travel-form-row">
        <text class="travel-form-label">ç›®çš„åœ°åç§°</text>
        <input class="travel-form-input" placeholder="è¯·è¾“å…¥ç›®çš„åœ°åç§°/å¤‡æ³¨" value="{{travelFormName}}" bindinput="onTravelNameInput" />
      </view>
      
      <view class="travel-form-row travel-form-row-slider">
        <text class="travel-form-label">æƒ³å»ç¨‹åº¦ 1-30</text>
        <view class="travel-slider-wrap">
          <slider min="1" max="30" value="{{travelFormPriority}}" show-value="true" activeColor="#667eea" block-color="#667eea" bindchange="onTravelPriorityChange" />
        </view>
      </view>
      
      <view class="travel-form-btns">
        <button class="travel-form-btn travel-form-cancel" bindtap="cancelTravelForm">å–æ¶ˆ</button>
        <button class="travel-form-btn travel-form-submit" bindtap="submitTravelForm">{{editingTravelId ? 'ç¡®å®šä¿®æ”¹' : 'ç¡®å®šæ·»åŠ '}}</button>
      </view>
    </view>

    <!-- å·²å‡ºè¡Œç¼–è¾‘è¡¨å• -->
    <view class="travel-add-form {{showVisitedForm ? 'travel-form-show' : ''}}" wx:if="{{showVisitedForm}}">
      <view class="travel-form-header">
        <text class="travel-form-title">âœ¨ ç¼–è¾‘å‡ºè¡Œè®°å½•</text>
      </view>
      
      <view class="travel-form-row">
        <text class="travel-form-label">æ˜¯å¦å»è¿‡</text>
        <switch checked="{{visitedFormIsVisited}}" bindchange="onVisitedStatusChange" color="#667eea" />
      </view>
      
      <view class="travel-form-row" wx:if="{{visitedFormIsVisited}}">
        <text class="travel-form-label">é¦–æ¬¡åˆ°è¾¾æ—¶é—´</text>
        <picker mode="date" fields="month" value="{{visitedFormDate}}" bindchange="onVisitedDateChange">
          <view class="travel-form-picker">{{visitedFormDate || 'è¯·é€‰æ‹©å¹´æœˆ'}} <text class="picker-arrow">â–¼</text></view>
        </picker>
      </view>
      
      <view class="travel-form-btns">
        <button class="travel-form-btn travel-form-cancel" bindtap="cancelVisitedForm">å–æ¶ˆ</button>
        <button class="travel-form-btn travel-form-submit" bindtap="submitVisitedForm">ç¡®å®šä¿®æ”¹</button>
      </view>
    </view>

    <!-- ç›®çš„åœ°åˆ—è¡¨ -->
    <view class="loading-container" wx:if="{{loadingTravel}}">
      <view class="loading-spinner"></view>
      <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>
    <view class="item-list" wx:elif="{{travelList.length}}">
      <view 
        class="item-card-wrapper"
        wx:for="{{travelList}}" 
        wx:key="id"
      >
        <view 
          class="item-card travel-item"
          data-id="{{item.id}}"
          bindlongpress="showTravelActions"
        >
          <view class="item-emoji travel-emoji">{{item.type === 'Domestic' ? 'ğŸ‡¨ğŸ‡³' : 'ğŸŒ'}}</view>
          <view class="item-content">
            <text class="item-name">{{item.displayName}}</text>
            <view class="item-info">
              <view class="travel-type-tag {{item.type === 'Domestic' ? 'travel-domestic' : 'travel-international'}}">
                {{item.type === 'Domestic' ? 'å›½å†…' : 'å›½é™…'}}
              </view>
              <view class="priority-indicator priority-travel" wx:if="{{travelTab !== 'visited'}}">
                <text>æƒ³å» {{item.priority}}</text>
              </view>
              <view class="visited-date-tag" wx:if="{{travelTab === 'visited'}}">
                <text>ğŸ“… {{item.visitedDateFormatted || 'æœªè®°å½•æ—¥æœŸ'}}</text>
              </view>
            </view>
          </view>
          <view class="travel-action-btn" catchtap="onMarkVisited" data-id="{{item.id}}" wx:if="{{travelTab === 'pending'}}">
            <text>âœ“ å»è¿‡äº†</text>
          </view>
        </view>
      </view>
    </view>
    
    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{!loadingTravel && !travelList.length}}">
      <text class="empty-icon">{{travelTab === 'pending' ? 'âœˆï¸' : 'ğŸ‰'}}</text>
      <text class="empty-title">{{travelTab === 'pending' ? 'è¿˜æ²¡æœ‰æƒ³å»çš„åœ°æ–¹' : 'è¿˜æ²¡æœ‰å‡ºè¡Œè®°å½•'}}</text>
      <text class="empty-text">{{travelTab === 'pending' ? 'æ·»åŠ ä½ æ¢¦æƒ³ä¸­çš„ç›®çš„åœ°' : 'æŠŠæƒ³å»çš„åœ°æ–¹æ ‡è®°ä¸ºå·²å»è¿‡'}}</text>
      <view class="empty-btn" bindtap="showAddTravelForm" wx:if="{{travelTab === 'pending'}}">+ æ·»åŠ ç›®çš„åœ°</view>
    </view>
    
    <view class="add-btn-row" wx:if="{{travelTab === 'pending' && !showTravelForm && travelList.length}}">
      <view class="fab-btn fab-btn-info" bindtap="showAddTravelForm">
        <text class="fab-btn-icon">+</text>
      </view>
    </view>
  </view>

  <!-- å¹´åº¦ç›®æ ‡åŒºåŸŸ -->
  <view class="section-card yearly-goal-section">
    <view class="section-header">
      <view class="section-title-wrap">
        <view class="section-icon section-icon-goal">ğŸ¯</view>
        <text class="section-title">å¹´åº¦ç›®æ ‡</text>
      </view>
      <picker mode="selector" range="{{goalYearList}}" value="{{goalYearIndex}}" bindchange="onGoalYearChange">
        <view class="year-picker">
          <text>{{goalCurrentYear}}å¹´</text>
          <text class="picker-arrow">â–¼</text>
        </view>
      </picker>
    </view>

    <!-- åŒæ å¸ƒå±€ï¼šçŒª & é©´ -->
    <view class="goal-columns">
      <!-- å·¦æ ï¼šçŒªçš„ç›®æ ‡ -->
      <view class="goal-column goal-column-pig">
        <view class="goal-column-header goal-header-pig">
          <text class="goal-owner-emoji">ğŸ·</text>
          <text class="goal-owner-name">çŒªçš„ç›®æ ‡</text>
        </view>
        
        <view class="goal-list">
          <!-- æœªå®Œæˆç›®æ ‡ -->
          <view 
            class="goal-item {{item.completed ? 'goal-item-completed' : ''}}"
            wx:for="{{goalsPig}}" 
            wx:key="id"
            data-id="{{item.id}}"
            bindlongpress="showGoalActions"
          >
            <view class="goal-checkbox {{item.completed ? 'goal-checkbox-checked' : ''}}" 
                  catchtap="toggleGoalComplete" data-id="{{item.id}}">
              <text wx:if="{{item.completed}}">âœ“</text>
            </view>
            <text class="goal-title {{item.completed ? 'goal-title-completed' : ''}}">{{item.title}}</text>
          </view>
          
          <!-- ç©ºçŠ¶æ€ -->
          <view class="goal-empty" wx:if="{{!goalsPig.length && !loadingGoals}}">
            <text class="goal-empty-text">æš‚æ— ç›®æ ‡</text>
          </view>
        </view>
        
        <!-- æ·»åŠ æŒ‰é’® -->
        <view class="goal-add-btn" bindtap="showAddGoalForm" data-owner="Pig">
          <text class="goal-add-icon">+</text>
          <text>æ·»åŠ ç›®æ ‡</text>
        </view>
      </view>

      <!-- å³æ ï¼šé©´çš„ç›®æ ‡ -->
      <view class="goal-column goal-column-donkey">
        <view class="goal-column-header goal-header-donkey">
          <text class="goal-owner-emoji">ğŸ«</text>
          <text class="goal-owner-name">é©´çš„ç›®æ ‡</text>
        </view>
        
        <view class="goal-list">
          <!-- ç›®æ ‡åˆ—è¡¨ -->
          <view 
            class="goal-item {{item.completed ? 'goal-item-completed' : ''}}"
            wx:for="{{goalsDonkey}}" 
            wx:key="id"
            data-id="{{item.id}}"
            bindlongpress="showGoalActions"
          >
            <view class="goal-checkbox {{item.completed ? 'goal-checkbox-checked' : ''}}" 
                  catchtap="toggleGoalComplete" data-id="{{item.id}}">
              <text wx:if="{{item.completed}}">âœ“</text>
            </view>
            <text class="goal-title {{item.completed ? 'goal-title-completed' : ''}}">{{item.title}}</text>
          </view>
          
          <!-- ç©ºçŠ¶æ€ -->
          <view class="goal-empty" wx:if="{{!goalsDonkey.length && !loadingGoals}}">
            <text class="goal-empty-text">æš‚æ— ç›®æ ‡</text>
          </view>
        </view>
        
        <!-- æ·»åŠ æŒ‰é’® -->
        <view class="goal-add-btn" bindtap="showAddGoalForm" data-owner="Donkey">
          <text class="goal-add-icon">+</text>
          <text>æ·»åŠ ç›®æ ‡</text>
        </view>
      </view>
    </view>

    <!-- å¾€å¹´å½’æ¡£ -->
    <view class="goal-archive-section" wx:if="{{goalArchivedYears.length}}">
      <view class="goal-archive-header" bindtap="toggleGoalArchive">
        <view class="goal-archive-title-wrap">
          <text class="goal-archive-icon">ğŸ“‚</text>
          <text class="goal-archive-title">å¾€å¹´å½’æ¡£</text>
        </view>
        <text class="expand-icon {{showGoalArchive ? 'expand-icon-up' : ''}}">â€º</text>
      </view>
      <view class="goal-archive-list {{showGoalArchive ? 'goal-archive-list-show' : ''}}">
        <view 
          class="goal-archive-year-item"
          wx:for="{{goalArchivedYears}}" 
          wx:key="*this"
          bindtap="onGoalYearChange"
          data-year="{{item}}"
        >
          <text class="archive-year-text">{{item}}å¹´</text>
          <text class="archive-year-arrow">â€º</text>
        </view>
      </view>
    </view>

    <!-- åŠ è½½ä¸­ -->
    <view class="loading-container" wx:if="{{loadingGoals}}">
      <view class="loading-spinner"></view>
      <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>
  </view>

  <!-- å¾…è´­ç‰©å“åŒºåŸŸ -->
  <view class="section-card">
    <view class="section-header">
      <view class="section-title-wrap">
        <view class="section-icon section-icon-tobuy">ğŸ›’</view>
        <text class="section-title">å¾…è´­æ¸…å•</text>
      </view>
      <view class="section-badge" wx:if="{{toBuyProducts.length}}">{{toBuyProducts.length}}ä»¶</view>
    </view>
    
    <!-- æœªå®Œæˆçš„å¾…è´­ç‰©å“ -->
    <view class="loading-container" wx:if="{{loadingToBuy}}">
      <view class="loading-spinner"></view>
      <text class="loading-text">åŠ è½½ä¸­...</text>
    </view>
    <view class="item-list" wx:elif="{{toBuyPending.length}}">
      <view 
        class="item-card-wrapper"
        wx:for="{{toBuyPending}}" 
        wx:key="id"
      >
        <view 
          class="item-card tobuy-item"
          data-id="{{item.id}}"
          bindtap="onUpdateToBuy"
          bindlongpress="showToBuyActions"
        >
          <view class="tobuy-checkbox {{item.completed ? 'tobuy-checkbox-checked' : ''}}" 
                catchtap="toggleToBuyComplete" data-id="{{item.id}}">
            <text wx:if="{{item.completed}}">âœ“</text>
          </view>
          <view class="item-content {{item.completed ? 'item-completed' : ''}}">
            <text class="item-name">{{item.name}}</text>
            <view class="item-info">
              <view class="priority-indicator priority-{{item.priority <= 3 ? 'high' : item.priority <= 7 ? 'medium' : 'low'}}">
                <text>P{{item.priority}}</text>
              </view>
            </view>
          </view>
          <text class="item-arrow">â€º</text>
        </view>
      </view>
    </view>

    <!-- å·²å®Œæˆçš„å¾…è´­ç‰©å“ï¼ˆå¯æŠ˜å ï¼‰ -->
    <view class="completed-section" wx:if="{{toBuyCompleted.length}}">
      <view class="completed-header" bindtap="toggleCompletedToBuyList">
        <view class="completed-title-wrap">
          <text class="completed-icon">âœ…</text>
          <text class="completed-title">å·²å®Œæˆ ({{toBuyCompleted.length}})</text>
        </view>
        <view class="completed-actions">
          <view class="clear-btn" catchtap="clearCompletedToBuy">æ¸…é™¤</view>
          <text class="expand-icon {{showCompletedToBuy ? 'expand-icon-up' : ''}}">â€º</text>
        </view>
      </view>
      <view class="completed-list {{showCompletedToBuy ? 'completed-list-show' : ''}}">
        <view 
          class="item-card-wrapper"
          wx:for="{{toBuyCompleted}}" 
          wx:key="id"
        >
          <view 
            class="item-card tobuy-item item-card-completed"
            data-id="{{item.id}}"
            bindtap="onUpdateToBuy"
            bindlongpress="showToBuyActions"
          >
            <view class="tobuy-checkbox tobuy-checkbox-checked" 
                  catchtap="toggleToBuyComplete" data-id="{{item.id}}">
              <text>âœ“</text>
            </view>
            <view class="item-content item-completed">
              <text class="item-name">{{item.name}}</text>
              <view class="item-info">
                <view class="priority-indicator priority-{{item.priority <= 3 ? 'high' : item.priority <= 7 ? 'medium' : 'low'}}">
                  <text>P{{item.priority}}</text>
                </view>
              </view>
            </view>
            <text class="item-arrow">â€º</text>
          </view>
        </view>
      </view>
    </view>
    
    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{!loadingToBuy && !toBuyProducts.length}}">
      <text class="empty-icon">ğŸ›’</text>
      <text class="empty-title">è´­ç‰©æ¸…å•æ˜¯ç©ºçš„</text>
      <text class="empty-text">è®°å½•éœ€è¦è´­ä¹°çš„ç‰©å“</text>
      <view class="empty-btn" bindtap="goToAddToBuy">+ æ·»åŠ å¾…è´­</view>
    </view>

    <view class="add-btn-row" wx:if="{{toBuyProducts.length}}">
      <view class="fab-btn fab-btn-success" bindtap="goToAddToBuy">
        <text class="fab-btn-icon">+</text>
      </view>
    </view>
  </view>

  <!-- æ–°å¢/ç¼–è¾‘ç›®æ ‡å¼¹çª— -->
  <view class="goal-modal-mask {{showGoalForm ? 'show' : ''}}" bindtap="hideGoalForm"></view>
  <view class="goal-modal {{showGoalForm ? 'show' : ''}}">
    <view class="goal-modal-header">
      <text class="goal-modal-title">{{editingGoalId ? (goalFormOwner === 'Pig' ? 'ğŸ· ç¼–è¾‘çŒªçš„ç›®æ ‡' : 'ğŸ« ç¼–è¾‘é©´çš„ç›®æ ‡') : (goalFormOwner === 'Pig' ? 'ğŸ· çŒªçš„æ–°ç›®æ ‡' : 'ğŸ« é©´çš„æ–°ç›®æ ‡')}}</text>
      <view class="goal-modal-close" bindtap="hideGoalForm">âœ•</view>
    </view>
    <view class="goal-modal-body">
      <!-- å¹´ä»½é€‰æ‹© -->
      <view class="goal-form-row">
        <text class="goal-form-label">ğŸ“… ç›®æ ‡å¹´ä»½</text>
        <picker mode="selector" range="{{goalFormYearList}}" value="{{goalFormYearIndex}}" bindchange="onGoalFormYearChange">
          <view class="goal-form-picker">
            <text>{{goalFormYear}}å¹´</text>
            <text class="picker-arrow">â–¼</text>
          </view>
        </picker>
      </view>
      <!-- ç›®æ ‡å†…å®¹ -->
      <view class="goal-form-row goal-form-row-input">
        <text class="goal-form-label">ğŸ¯ ç›®æ ‡å†…å®¹</text>
        <input 
          class="goal-input" 
          placeholder="è¾“å…¥ä½ çš„å¹´åº¦ç›®æ ‡..." 
          value="{{goalFormTitle}}"
          bindinput="onGoalTitleInput"
          focus="{{showGoalForm}}"
          adjust-position="{{true}}"
        />
      </view>
    </view>
    <view class="goal-modal-footer">
      <button class="goal-modal-btn goal-modal-cancel" bindtap="hideGoalForm">å–æ¶ˆ</button>
      <button class="goal-modal-btn goal-modal-confirm" bindtap="submitGoalForm">{{editingGoalId ? 'ç¡®å®šä¿®æ”¹' : 'ç¡®å®šæ·»åŠ '}}</button>
    </view>
  </view>

  <!-- åº•éƒ¨é“¾æ¥ -->
  <view class="footer-links">
    <navigator url="/pages/openid/openid" open-type="navigate" class="footer-link">
      <view class="footer-link-icon">ğŸ””</view>
      <text class="footer-link-text">æ¶ˆæ¯æ¨é€è®¾ç½®</text>
      <text class="footer-link-arrow">â€º</text>
    </navigator>
  </view>
</view>

<!-- æ“ä½œèœå• -->
<view class="action-sheet-mask {{showActionSheet ? 'show' : ''}}" bindtap="hideActionSheet"></view>
<view class="action-sheet {{showActionSheet ? 'show' : ''}}">
  <view class="action-sheet-header">
    <text class="action-sheet-title">{{actionSheetTitle}}</text>
  </view>
  <view class="action-sheet-item" bindtap="onActionEdit">
    <text class="action-icon">âœï¸</text>
    <text>ç¼–è¾‘</text>
  </view>
  <view class="action-sheet-item action-sheet-danger" bindtap="onActionDelete">
    <text class="action-icon">ğŸ—‘ï¸</text>
    <text>åˆ é™¤</text>
  </view>
  <view class="action-sheet-cancel" bindtap="hideActionSheet">
    <text>å–æ¶ˆ</text>
  </view>
</view>
