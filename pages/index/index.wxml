<!-- é¦–é¡µå±•ç¤ºç‰©å“åˆ—è¡¨å’Œæé†’åŠŸèƒ½ -->
<view class="container">
	<!-- ç‰©å“è¡¨æ ¼ -->
	<view class="product-table">
		<!-- è¡¨å¤´ -->
		<view class="table-row table-header">
			<text class="table-cell" bindtap="onSortByName">
				<icon type="info" size="22" color="#1890ff"/> åç§°
			</text>
			<text class="table-cell" bindtap="onSortByBestBy">
				<icon type="time" size="22" color="#faad14"/> ä¿è´¨æœŸ
			</text>
			<text class="table-cell">
				<icon type="location" size="22" color="#52c41a"/> å­˜æ”¾ä½ç½®
			</text>
		</view>
		<!-- æ•°æ®è¡Œ -->
		<block wx:if="{{products.length}}">
			<block wx:for="{{products}}" wx:key="id">
				<view class="swipe-row" data-show="{{swipeIndex==index}}">
					<view class="swipe-actions">
						<button class="swipe-btn delete-btn" data-id="{{item.id}}" bindtap="onDelete">åˆ é™¤</button>
						<button class="swipe-btn update-btn" data-id="{{item.id}}" data-category="{{item.category}}" bindtap="onUpdate">æ›´æ–°</button>
					</view>
					<view class="table-row product-card swipe-content"
					  catchtouchstart="onTouchStart"
					  catchtouchmove="onTouchMove"
					  catchtouchend="onTouchEnd"
					  data-index="{{index}}">
						<view class="table-cell name-cell">
							<text class="product-name">{{item.name}} {{item.category === 'CatFood' ? 'ğŸ±' : item.category === 'Medicine' ? 'ğŸ’Š' : item.category === 'Food' ? 'ğŸ¥–' : ''}}</text>
						</view>
						<view class="table-cell">
							<text class="product-date date-normal">{{item.bestByFormatted}}</text>
						</view>
						<view class="table-cell">
							<text class="location-tag">{{item.location.roomPlacement}}-{{item.location.site}}</text>
						</view>
					</view>
				</view>
			</block>
		</block>
		<block wx:else="" />
	</view>
	<!-- æ·»åŠ æ–°ç‰©å“æŒ‰é’® -->
	<view class="add-btn-row">
		<icon type="cancel" size="45" color="#1890ff" bindtap="goToTarget" />
	</view>
	<!-- è·³è½¬åˆ°OpenIDé¡µé¢çš„é“¾æ¥ -->
	<view style="margin-top: 40rpx; text-align: center;">
		<navigator url="/pages/openid/openid" open-type="navigate">
			<text style="color: #1890ff; font-size: 32rpx; text-decoration: underline;">æ¨é€æ¶ˆæ¯</text>
		</navigator>
	</view>
</view>